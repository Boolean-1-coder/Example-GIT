<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>TITOLO PAGINA</title>
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/bootflat.css">
    <link rel="stylesheet" href="style.css">
</head>
  <body>

    <nav class="navbar navbar-expand-lg navbar-light bg-light">
      <span class="navbar-brand mb-0 pl-3">Il fantasmagorico sito in collaborazione git della classe DOITA07</a>
    </nav>

    <h1 class="titolo-h1">Ciao a Tutti!</h1>

    <div>


      <h3> Le mie auto sono tante!</h3>

      <p>Le mie auto sono molto numerose e veloci, ho una collezione che spazia dalle auto storiche a quelle sportive più moderne. Le mie preferite però sono le supercar elettriche.</p>
    </div>

    <header><h1>Genshin Impact wishes luck calculator</h1></header>
    <main>
      <p>At which pull did you find your 5-star unit?</p>
      <div style="text-align: center;"><input type="number" id="pullText" value="" min="1", max="90">
      <button onclick="calc()">Calculate luck</button></div>
      <script>
        let wishes = [ 0.6, 0.596, 0.592, 0.591, 0.586, 0.582, 0.579, 0.575, 0.571, 0.568, 0.565, 0.561, 0.558, 0.554, 0.552, 0.549, 0.545, 0.541, 0.539, 0.536, 0.531, 0.528, 0.525, 0.523, 0.519, 0.517, 0.513, 0.511, 0.507, 0.503, 0.501, 0.498, 0.495, 0.491, 0.489, 0.486, 0.483, 0.480, 0.477, 0.475, 0.471, 0.469, 0.467, 0.464, 0.461, 0.457, 0.456, 0.453, 0.448, 0.447, 0.445, 0.442, 0.439, 0.437, 0.434, 0.430, 0.428, 0.426, 0.423, 0.420, 0.418, 0.416, 0.413, 0.410, 0.408, 0.406, 0.404, 0.401, 0.399, 0.396, 0.393, 0.392, 0.388, 0.387, 0.384, 20.627, 13.946, 9.429, 6.375, 4.306, 2.914, 1.970, 1.332, 0.901, 0.608, 0.411, 0.278, 0.187, 0.126, 0.265];
        function calc() {
          let attempts = document.getElementById("pullText").value;
          let percent = 0;
          for (i=0; i<attempts; i++) {
            percent = percent + wishes[i]
          }
          let backColor;
          let luck;
          let description;
          if (percent == 0) {
            luck = "<h2>Please, input a number above 0</h2><p>You can find your pull number by counting how many pulls you did after the last time you got a 5-star unit in your wishes history.</p>";
          } else if (percent <= 10){
            luck = "<h2>Extremely lucky</h2>"
            backColor = "#66ff66";
          } else if(percent <=25) {
            luck = "<h2>Really lucky</h2>"
            backColor = "#99ff99";
          } else if(percent <=42) {
            luck = "<h2>Lucky</h2>"
            backColor = "#ccffcc";
          } else if(percent <=57) {
            luck = "<h2>Average luck</h2>"
            backColor = "#ffffcc";
          } else if(percent <=75) {
            luck = "<h2>Unlucky</h2>"
            backColor = "#ffcccc";
          } else if(percent <=90) {
            luck = "<h2>Really unlucky</h2>"
            backColor = "#ff9999";
          } else if(percent <=100) {
            luck = "<h2>Horribly unlucky</h2>"
            backColor = "#ff6666";
          } else {
            luck = "<h2>How is this even possible?</h2>"
            backColor = "#ff3300"
          }
          description = "You were among the <b>" + percent + "%</b> of people who got a 5-star unit with this amount of wishes.";
          document.getElementById("resultPar").innerHTML = "<style> p#resultPar {background-color: " + backColor + "} </style>" + luck + description;
        }
      </script>
      <p id="resultPar"></p>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>
    <script type="text/javascript" src="script.js"></script>
  </body>
</html>